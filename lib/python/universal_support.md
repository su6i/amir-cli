# ğŸŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¬Ù‡Ø§Ù†ÛŒ Ø§Ø² Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ

## âœ… Ú©Ø´ÙˆØ±Ù‡Ø§ Ùˆ Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø´Ø¯Ù‡

### ğŸ‡ªğŸ‡º Ø§Ø±ÙˆÙ¾Ø§

| Ú©Ø´ÙˆØ± | Ø²Ø¨Ø§Ù† | ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Name | Ù…Ø«Ø§Ù„ Ø´Ù…Ø§Ø±Ù‡ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ |
|------|------|-------------|-------------------|
| ğŸ‡«ğŸ‡· ÙØ±Ø§Ù†Ø³Ù‡ | French | NOM, PRÃ‰NOM | 9927063493 (10 Ø±Ù‚Ù…) |
| ğŸ‡©ğŸ‡ª Ø¢Ù„Ù…Ø§Ù† | German | NACHNAME, VORNAME | 123456789 (9 Ø±Ù‚Ù…) |
| ğŸ‡ªğŸ‡¸ Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ | Spanish | APELLIDO, NOMBRE | 12345678A (8 Ø±Ù‚Ù… + Ø­Ø±Ù) |
| ğŸ‡®ğŸ‡¹ Ø§ÛŒØªØ§Ù„ÛŒØ§ | Italian | COGNOME, NOME | ABCDEF12G34H567I |
| ğŸ‡µğŸ‡¹ Ù¾Ø±ØªØºØ§Ù„ | Portuguese | APELIDO, NOME | 12345678 |
| ğŸ‡³ğŸ‡± Ù‡Ù„Ù†Ø¯ | Dutch | ACHTERNAAM, VOORNAAM | 123456789 |
| ğŸ‡µğŸ‡± Ù„Ù‡Ø³ØªØ§Ù† | Polish | NAZWISKO, IMIÄ˜ | ABC123456 |
| ğŸ‡¬ğŸ‡§ Ø§Ù†Ú¯Ù„ÛŒØ³ | English | SURNAME, GIVEN NAME | AB123456C |

### ğŸ‡·ğŸ‡º Ø´Ø±Ù‚ Ø§Ø±ÙˆÙ¾Ø§ Ùˆ Ø±ÙˆØ³ÛŒÙ‡

| Ú©Ø´ÙˆØ± | Ø§Ù„ÙØ¨Ø§ | ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Name | Ù†Ù…ÙˆÙ†Ù‡ |
|------|------|-------------|------|
| ğŸ‡·ğŸ‡º Ø±ÙˆØ³ÛŒÙ‡ | Cyrillic | Ğ¤ĞĞœĞ˜Ğ›Ğ˜Ğ¯, Ğ˜ĞœĞ¯, ĞĞ¢Ğ§Ğ•Ğ¡Ğ¢Ğ’Ğ | 1234 567890 |
| ğŸ‡ºğŸ‡¦ Ø§ÙˆÚ©Ø±Ø§ÛŒÙ† | Cyrillic | ĞŸĞ Ğ†Ğ—Ğ’Ğ˜Ğ©Ğ•, Ğ†Ğœ'Ğ¯ | 12345678 |
| ğŸ‡§ğŸ‡¬ Ø¨Ù„ØºØ§Ø±Ø³ØªØ§Ù† | Cyrillic | ĞŸĞ Ğ•Ğ—Ğ˜ĞœĞ•, Ğ˜ĞœĞ• | 123456789 |

### ğŸŒ Ø¢Ø³ÛŒØ§

| Ú©Ø´ÙˆØ± | Ø§Ø³Ú©Ø±ÛŒÙ¾Øª | ÙÛŒÙ„Ø¯Ù‡Ø§ | Ø´Ù…Ø§Ø±Ù‡ |
|------|---------|--------|-------|
| ğŸ‡¨ğŸ‡³ Ú†ÛŒÙ† | Chinese (ç®€ä½“) | å§“å, å§“, å | 110101199001011234 |
| ğŸ‡¯ğŸ‡µ Ú˜Ø§Ù¾Ù† | Japanese (æ¼¢å­—/ä»®å) | æ°å, å§“, å | 1234567890123 |
| ğŸ‡°ğŸ‡· Ú©Ø±Ù‡ | Korean (í•œê¸€) | ì´ë¦„, ì„±ëª… | 123456-1234567 |
| ğŸ‡¹ğŸ‡­ ØªØ§ÛŒÙ„Ù†Ø¯ | Thai | à¸Šà¸·à¹ˆà¸­, à¸™à¸²à¸¡à¸ªà¸à¸¸à¸¥ | 1234567890123 |
| ğŸ‡»ğŸ‡³ ÙˆÛŒØªÙ†Ø§Ù… | Vietnamese | TÃŠN, Há»Œ | 123456789012 |
| ğŸ‡®ğŸ‡³ Ù‡Ù†Ø¯ | Multi | NAME, SURNAME | 1234 5678 9012 |

### ğŸŒ Ø®Ø§ÙˆØ±Ù…ÛŒØ§Ù†Ù‡ Ùˆ Ø´Ù…Ø§Ù„ Ø¢ÙØ±ÛŒÙ‚Ø§

| Ú©Ø´ÙˆØ± | Ø§Ø³Ú©Ø±ÛŒÙ¾Øª | ÙÛŒÙ„Ø¯Ù‡Ø§ | Ù†Ù…ÙˆÙ†Ù‡ |
|------|---------|--------|------|
| ğŸ‡®ğŸ‡· Ø§ÛŒØ±Ø§Ù† | Persian/Arabic | Ù†Ø§Ù…, Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ | 1234567890 |
| ğŸ‡¸ğŸ‡¦ Ø¹Ø±Ø¨Ø³ØªØ§Ù† | Arabic | Ø§Ù„Ø§Ø³Ù…, Ø§Ù„Ù„Ù‚Ø¨ | 1234567890 |
| ğŸ‡¦ğŸ‡ª Ø§Ù…Ø§Ø±Ø§Øª | Arabic/English | NAME, Ø§Ø³Ù… | 784-1234-1234567-1 |
| ğŸ‡¹ğŸ‡· ØªØ±Ú©ÛŒÙ‡ | Turkish (Latin) | SOYAD, ADI | 12345678901 |
| ğŸ‡ªğŸ‡¬ Ù…ØµØ± | Arabic | Ø§Ù„Ø§Ø³Ù…, Ø§Ù„Ù„Ù‚Ø¨ | 12345678901234 |
| ğŸ‡®ğŸ‡± Ø§Ø³Ø±Ø§Ø¦ÛŒÙ„ | Hebrew/Arabic | ×©× ××©×¤×—×”, ×©× ×¤×¨×˜×™ | 123456789 |

### ğŸŒ Ø¢Ù…Ø±ÛŒÚ©Ø§

| Ú©Ø´ÙˆØ± | Ø²Ø¨Ø§Ù† | ÙÛŒÙ„Ø¯Ù‡Ø§ | Ø´Ù…Ø§Ø±Ù‡ |
|------|------|--------|-------|
| ğŸ‡ºğŸ‡¸ Ø¢Ù…Ø±ÛŒÚ©Ø§ | English | NAME, SURNAME | 123-45-6789 (SSN) |
| ğŸ‡¨ğŸ‡¦ Ú©Ø§Ù†Ø§Ø¯Ø§ | English/French | NOM, NAME | 123 456 789 |
| ğŸ‡²ğŸ‡½ Ù…Ú©Ø²ÛŒÚ© | Spanish | APELLIDOS, NOMBRE | ABCD123456HDFRRL00 |
| ğŸ‡§ğŸ‡· Ø¨Ø±Ø²ÛŒÙ„ | Portuguese | NOME, SOBRENOME | 123.456.789-00 |
| ğŸ‡¦ğŸ‡· Ø¢Ø±Ú˜Ø§Ù†ØªÛŒÙ† | Spanish | APELLIDO, NOMBRE | 12.345.678 |

## ğŸ”§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Tesseract Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ù…Ù†Ø·Ù‚Ù‡

### Ø§Ø±ÙˆÙ¾Ø§ Ùˆ Ø¢Ù…Ø±ÛŒÚ©Ø§ÛŒ Ù„Ø§ØªÛŒÙ†:
```python
lang='eng+fra+spa+deu+ita+por'
```

### Ø´Ø±Ù‚ Ø§Ø±ÙˆÙ¾Ø§:
```python
lang='eng+rus+ukr+bul'
```

### Ø®Ø§ÙˆØ±Ù…ÛŒØ§Ù†Ù‡:
```python
lang='eng+ara+fas+tur+heb'
```

### Ø¢Ø³ÛŒØ§:
```python
lang='eng+chi_sim+chi_tra+jpn+kor+tha+vie'
```

### Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯ (Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ):
```python
lang='eng+fra+spa+deu+ita+por+rus+ara+chi_sim+jpn+kor'
```

## ğŸ“‹ ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø´Ù…Ø§Ø±Ù‡ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ

| Ù†ÙˆØ¹ | Ø·ÙˆÙ„ | ÙØ±Ù…Øª | Ù…Ø«Ø§Ù„ |
|-----|------|------|------|
| SSN (USA) | 9 | ###-##-#### | 123-45-6789 |
| NIE (Spain) | 9 | X#######L | X1234567A |
| CPF (Brazil) | 11 | ###.###.###-## | 123.456.789-00 |
| Aadhaar (India) | 12 | #### #### #### | 1234 5678 9012 |
| NRIC (Singapore) | 9 | S#######L | S1234567D |
| MyKad (Malaysia) | 12 | ######-##-#### | 123456-12-3456 |
| ID Card (China) | 18 | ################## | 110101199001011234 |
| Passport (Universal) | 8-9 | A######## | AB1234567 |

## ğŸ¯ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ… ØªØ´Ø®ÛŒØµ Ù‡ÙˆØ´Ù…Ù†Ø¯

```
1. Multi-language OCR
   â”œâ”€ Latin (eng+fra+spa+deu+ita+por)
   â”œâ”€ Cyrillic (rus+ukr+bul)
   â”œâ”€ Arabic (ara+fas)
   â””â”€ CJK (chi_sim+jpn+kor)

2. Pattern Detection
   â”œâ”€ Find name labels (100+ variations)
   â”œâ”€ Extract text after label
   â”œâ”€ Clean prefix (Mr., Mrs., M., etc.)
   â””â”€ Normalize (remove special chars)

3. Number Extraction
   â”œâ”€ Look for 6-20 digit sequences
   â”œâ”€ Normalize (Oâ†’0, Iâ†’1, Sâ†’5)
   â”œâ”€ Vote for most common
   â””â”€ Prefer longer numbers

4. Combine & Validate
   â”œâ”€ Priority: Position-based
   â”œâ”€ Fallback: Pattern matching
   â”œâ”€ Verify: Not a noise word
   â””â”€ Output: NAME_NUMBER.png
```

## âš™ï¸ Ù†ØµØ¨ Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Tesseract

### Ubuntu/Debian:
```bash
# European languages
sudo apt-get install tesseract-ocr-eng tesseract-ocr-fra tesseract-ocr-spa \
                     tesseract-ocr-deu tesseract-ocr-ita tesseract-ocr-por

# Cyrillic
sudo apt-get install tesseract-ocr-rus tesseract-ocr-ukr tesseract-ocr-bul

# Arabic/Persian
sudo apt-get install tesseract-ocr-ara tesseract-ocr-fas

# Asian
sudo apt-get install tesseract-ocr-chi-sim tesseract-ocr-jpn tesseract-ocr-kor
```

### macOS:
```bash
brew install tesseract
brew install tesseract-lang  # All languages
```

### Windows:
```powershell
# Download from: https://github.com/UB-Mannheim/tesseract/wiki
# Install with "Additional Language Data" selected
```

## ğŸ§ª ØªØ³Øª Ø¨Ø§ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù

```bash
# French ID
python3 smart_crop_v2_ADVANCED_OCR.py french_id.png output/

# German Ausweis
python3 smart_crop_v2_ADVANCED_OCR.py german_ausweis.png output/

# Japanese é‹è»¢å…è¨±è¨¼
python3 smart_crop_v2_ADVANCED_OCR.py japanese_license.png output/

# Arabic Ø¨Ø·Ø§Ù‚Ø©
python3 smart_crop_v2_ADVANCED_OCR.py arabic_id.png output/

# US Driver License
python3 smart_crop_v2_ADVANCED_OCR.py us_dl.png output/
```

## ğŸ’¡ Ù†Ú©Ø§Øª Ù…Ù‡Ù…

1. **Ú©ÛŒÙÛŒØª Ø¹Ú©Ø³**: Ø­Ø¯Ø§Ù‚Ù„ 300 DPI
2. **Ù†ÙˆØ±**: ÛŒÚ©Ù†ÙˆØ§Ø®Øª Ùˆ Ø¨Ø¯ÙˆÙ† Ø³Ø§ÛŒÙ‡
3. **Ø²Ø§ÙˆÛŒÙ‡**: Ù…Ø³ØªÙ‚ÛŒÙ… (Ú©Ø¯ auto-rotate Ø¯Ø§Ø±Ù‡)
4. **Ø²Ø¨Ø§Ù†**: Tesseract Ø¨Ø§ÛŒØ¯ Ù†ØµØ¨ Ø¨Ø§Ø´Ù‡
5. **ÙØ±Ù…Øª**: Ù‡Ø± ÙØ±Ù…ØªÛŒ (PNG, JPG, TIFF, ...)

## ğŸš¨ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§

- âŒ Ø¯Ø³Øªâ€ŒÙ†ÙˆÛŒØ³ (handwritten) Ø±Ø§ Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù†Ø¯
- âŒ Ø¹Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ø®ÛŒÙ„ÛŒ blur
- âŒ Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Tesseract Ù†Ø¯Ø§Ø±Ø¯ (Ø¨Ø±Ø®ÛŒ Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø¢ÙØ±ÛŒÙ‚Ø§ÛŒÛŒ)
- âš ï¸  Ø¯Ù‚Øª Ø¨Ø±Ø§ÛŒ Ø¹Ø±Ø¨ÛŒ Ùˆ ÙØ§Ø±Ø³ÛŒ: ~70% (Ú†Ù¾ Ø¨Ù‡ Ø±Ø§Ø³Øª Ù…Ø´Ú©Ù„ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯)

## ğŸ‰ Ù…ÙˆØ§Ø±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÙˆÙÙ‚

âœ… Passport (Ù‡Ù…Ù‡ Ú©Ø´ÙˆØ±Ù‡Ø§)
âœ… National ID Card
âœ… Driver License
âœ… Residence Permit
âœ… Work Permit
âœ… Student ID
âœ… Health Insurance Card
âœ… Social Security Card




# ğŸ“› Smart Filename Ù†Ø§Ù…â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ù‡ÙˆØ´Ù…Ù†Ø¯ - Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„

## ğŸ¯ Ú†Ø·ÙˆØ± Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ù‡ØŸ

### Ø­Ø§Ù„Øª 1: Output ÛŒÚ© **Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒ** Ù‡Ø³Øª
```bash
python smart_crop.py input.png output_dir/
                                       â†‘ 
                               slash ÛŒØ¹Ù†ÛŒ directory
```

**Ø±ÙØªØ§Ø±:** 
- âœ… Smart naming **Ø®ÙˆØ¯Ú©Ø§Ø±** ÙØ¹Ø§Ù„ Ù…ÛŒØ´Ù‡
- âœ… OCR Ø§Ø¬Ø±Ø§ Ù…ÛŒØ´Ù‡ Ùˆ Ø§Ø³Ù… + Ø´Ù…Ø§Ø±Ù‡ Ø±Ùˆ Ù…ÛŒâ€ŒØ®ÙˆÙ†Ù‡
- âœ… ÙØ§ÛŒÙ„ Ø¨Ø§ Ø§Ø³Ù… Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø°Ø®ÛŒØ±Ù‡ Ù…ÛŒØ´Ù‡

**Ø®Ø±ÙˆØ¬ÛŒ:**
```
output_dir/SHIRALT_POUR_9927063493.png
```

---

### Ø­Ø§Ù„Øª 2: Output ÛŒÚ© **ÙØ§ÛŒÙ„** Ù‡Ø³Øª
```bash
python smart_crop.py input.png my_exact_name.png
                                â†‘
                          Ø§Ø³Ù… Ø¯Ù‚ÛŒÙ‚ ÙØ§ÛŒÙ„
```

**Ø±ÙØªØ§Ø±:**
- âŒ Smart naming **ØºÛŒØ±ÙØ¹Ø§Ù„** 
- âœ… Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù‡Ù…ÙˆÙ† Ø§Ø³Ù…ÛŒ Ú©Ù‡ Ø¯Ø§Ø¯ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡

**Ø®Ø±ÙˆØ¬ÛŒ:**
```
my_exact_name.png
```

---

### Ø­Ø§Ù„Øª 3: Force Ú©Ø±Ø¯Ù† Smart Naming Ø¨Ø±Ø§ÛŒ ÙØ§ÛŒÙ„
```bash
python smart_crop.py input.png output.png 20 smart
                                               â†‘
                                          mode = smart
```

**Ø±ÙØªØ§Ø±:**
- âœ… Smart naming **Ø§Ø¬Ø¨Ø§Ø±ÛŒ** ÙØ¹Ø§Ù„ Ù…ÛŒØ´Ù‡
- âš ï¸  Ø§Ø³Ù… `output.png` Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ù…ÛŒØ´Ù‡
- âœ… Ø§Ø³Ù… Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…ÛŒØ´Ù‡

**Ø®Ø±ÙˆØ¬ÛŒ:**
```
SHIRALT_POUR_9927063493.png  (Ø§Ø³Ù… output.png Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯)
```

---

## ğŸ“Š Ø¬Ø¯ÙˆÙ„ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ

| Ø´Ø±Ø§ÛŒØ· | Smart Naming | Ù†Ø§Ù… Ù†Ù‡Ø§ÛŒÛŒ |
|-------|--------------|-----------|
| `output/` (dir) + mode=crop | âœ… Ø®ÙˆØ¯Ú©Ø§Ø± | `LASTNAME_ID.png` |
| `output/` (dir) + mode=scan | âœ… Ø®ÙˆØ¯Ú©Ø§Ø± | `LASTNAME_ID.png` |
| `file.png` + mode=crop | âŒ Ø®Ø§Ù…ÙˆØ´ | `file.png` |
| `file.png` + mode=smart | âœ… Ø§Ø¬Ø¨Ø§Ø±ÛŒ | `LASTNAME_ID.png` |
| `file.png` + mode=scan | âŒ Ø®Ø§Ù…ÙˆØ´ | `file.png` |

---

## ğŸ’¡ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ

### âœ… Ù…Ø«Ø§Ù„ 1: Batch Processing (Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø³ØªÙ‡â€ŒØ§ÛŒ)
```bash
# Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ 100 ØªØ§ Ú©Ø§Ø±Øª Ø±Ùˆ Ø§Ø³Ú©Ù† Ú©Ù†ÛŒ:
for img in *.png; do
    python smart_crop.py "$img" output_dir/
done

# Ø®Ø±ÙˆØ¬ÛŒ:
# output_dir/SMITH_JOHN_123456.png
# output_dir/DOE_JANE_789012.png
# output_dir/WANG_LI_345678.png
# ...
```

### âœ… Ù…Ø«Ø§Ù„ 2: Ø§Ø³Ù… Ø¯Ù‚ÛŒÙ‚ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ
```bash
# Ø¨Ø±Ø§ÛŒ ÛŒÙ‡ Ú©Ø§Ø±Øª Ø®Ø§Øµ:
python smart_crop.py passport.png my_passport_scan.png

# Ø®Ø±ÙˆØ¬ÛŒ:
# my_passport_scan.png  (Ø¹ÛŒÙ† Ù‡Ù…ÛŒÙ† Ø§Ø³Ù…)
```

### âœ… Ù…Ø«Ø§Ù„ 3: Professional Scan Ø¨Ø§ Ø§Ø³Ù… Ù‡ÙˆØ´Ù…Ù†Ø¯
```bash
# Ú©ÛŒÙÛŒØª Ø¨Ø§Ù„Ø§ + OCR:
python smart_crop.py id_card.png scans/ 30 scan

# Ø®Ø±ÙˆØ¬ÛŒ:
# scans/MUELLER_HANS_987654321.png  (enhanced quality)
```

### âœ… Ù…Ø«Ø§Ù„ 4: Force Smart Naming
```bash
# Ø­ØªÛŒ Ø§Ú¯Ù‡ Ø§Ø³Ù… ÙØ§ÛŒÙ„ Ø¯Ø§Ø¯ÛŒØŒ OCR Ø±Ùˆ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ:
python smart_crop.py card.png ignored_name.png 20 smart

# Ø®Ø±ÙˆØ¬ÛŒ:
# LASTNAME_FIRSTNAME_ID.png  (Ø§Ø³Ù… ignored_name Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ø´Ø¯)
```

---

## ğŸ”§ Ú©Ø¯ Ø¯Ø§Ø®Ù„ÛŒ (Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ú¯Ø§Ù†)

```python
# Ø®Ø· 538-548 Ø§Ø² smart_crop_fixed.py:

use_smart_name = os.path.isdir(output_path) or 'smart' in mode.lower()

if use_smart_name and os.path.isdir(output_path):
    smart_name = get_smart_filename(warped, input_path)
    output_path = os.path.join(output_path, smart_name)
    print(f"ğŸ’¡ Smart Name: {smart_name}")
elif os.path.isdir(output_path):
    # Directory Ø§Ù…Ø§ smart Ø®Ø§Ù…ÙˆØ´
    base = os.path.basename(input_path)
    output_path = os.path.join(output_path, f"{os.path.splitext(base)[0]}_cropped.png")
```

---

## ğŸ› Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ

### Ù…Ø´Ú©Ù„: Ù‡Ø± Ø¨Ø§Ø± Ø§Ø³Ù… Ù…ØªÙØ§ÙˆØª Ù…ÛŒâ€ŒØ¯Ù‡
**Ø¹Ù„Øª:** OCR noise Ø¯Ø§Ø±Ø¯

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
1. Ú©ÛŒÙÛŒØª Ø¹Ú©Ø³ Ø±Ùˆ Ø¨Ù‡ØªØ± Ú©Ù† (Ù†ÙˆØ±ØŒ ÙÙˆÚ©ÙˆØ³)
2. Ø§Ø² mode `scan` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù† Ø¨Ø±Ø§ÛŒ Ø¨Ù‡ØªØ± Ø´Ø¯Ù† OCR
3. Ø§Ú¯Ù‡ Ø®ÛŒÙ„ÛŒ Ù…Ù‡Ù…Ù‡ØŒ Ø§Ø³Ù… Ø¯Ù‚ÛŒÙ‚ Ø¨Ø¯Ù‡ (Ø­Ø§Ù„Øª 2)

### Ù…Ø´Ú©Ù„: Ø§Ø³Ù… Ø±Ùˆ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ù…ÛŒÚ¯ÛŒØ±Ù‡
**Ø¹Ù„Øª:** Output ÛŒÚ© directory Ù‡Ø³Øª ÛŒØ§ mode=smart

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
```bash
# Ø§Ú¯Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ø§Ø³Ù… Ø¯Ù‚ÛŒÙ‚:
python smart_crop.py input.png exact_name.png  # Ø¨Ø¯ÙˆÙ† slashØŒ Ø¨Ø¯ÙˆÙ† smart
```

### Ù…Ø´Ú©Ù„: ÙØ§Ø±Ø³ÛŒ/Ø¹Ø±Ø¨ÛŒ Ø±Ùˆ Ø¯Ø±Ø³Øª Ù†Ù…ÛŒâ€ŒØ®ÙˆÙ†Ù‡
**Ø¹Ù„Øª:** RTL Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ Ø³Ø®Øªâ€ŒØªØ± Ù‡Ø³ØªÙ†Ø¯

**Ø±Ø§Ù‡â€ŒØ­Ù„:**
1. Tesseract language pack Ù†ØµØ¨ Ú©Ù†: `ara`, `fas`
2. Ø¯Ù‚Øª: ~75% (Ú©Ø§Ù…Ù„ Ù†ÛŒØ³Øª)
3. Fallback: Ø§Ø² Ø´Ù…Ø§Ø±Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´Ù‡ (`ID_123456.png`)

---

## ğŸ“– Ø®Ù„Ø§ØµÙ‡

âœ… **Directory output** â†’ Smart naming Ø®ÙˆØ¯Ú©Ø§Ø±
âœ… **File output** â†’ Ø§Ø³Ù… Ø¯Ù‚ÛŒÙ‚
âœ… **mode=smart** â†’ Ø§Ø¬Ø¨Ø§Ø±ÛŒ smart naming
âœ… **OCR fail** â†’ fallback Ø¨Ù‡ Ø§Ø³Ù… Ø§ØµÙ„ÛŒ + `_smart.png`



â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    ğŸ“‹ COMMAND CHEAT SHEET                             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£

ğŸ¯ BASIC SYNTAX (Original):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
python smart_crop.py <INPUT> <OUTPUT> [MARGIN] [MODE] [KERNEL]
                     â†‘       â†‘        â†‘        â†‘      â†‘
                     arg1    arg2     arg3     arg4   arg5


âœ… CORRECT EXAMPLES:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1ï¸âƒ£ Smart naming (output = directory):
   python smart_crop.py input.png output/
   â†’ output/LASTNAME_FIRSTNAME_ID.png

2ï¸âƒ£ Exact filename:
   python smart_crop.py input.png exact.png
   â†’ exact.png

3ï¸âƒ£ Force smart naming:
   python smart_crop.py input.png output.png 20 smart
   â†’ LASTNAME_FIRSTNAME_ID.png

4ï¸âƒ£ Professional scan:
   python smart_crop.py input.png scans/ 30 scan
   â†’ scans/LASTNAME_ID.png (enhanced)

5ï¸âƒ£ Preview only:
   python smart_crop.py input.png preview.png 20 preview
   â†’ preview.png (with overlay)

6ï¸âƒ£ Current directory:
   python smart_crop.py input.png .
   â†’ ./LASTNAME_ID.png


âŒ WRONG EXAMPLES (Don't Do This!):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âŒ python smart_crop.py input.png --smart
   Problem: --smart is treated as OUTPUT filename!
   Creates: --smart.png (wrong!)
   
âœ… Fix: python smart_crop.py input.png . 20 smart
   Or:   python smart_crop.py input.png output/ 20 smart

âŒ python smart_crop.py input.png
   Problem: Missing OUTPUT argument!
   Error: "Usage: ..."
   
âœ… Fix: python smart_crop.py input.png .

âŒ python smart_crop.py input.png output --smart
   Problem: --smart is in wrong position!
   Creates: output/ directory, ignores --smart
   
âœ… Fix: python smart_crop.py input.png output/ 20 smart


ğŸ¨ EASY MODE (Using scan.py wrapper):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… python scan.py input.png
   â†’ scans/LASTNAME_ID.png (auto)

âœ… python scan.py input.png --output=docs/
   â†’ docs/LASTNAME_ID.png

âœ… python scan.py input.png --output=exact.png
   â†’ exact.png

âœ… python scan.py input.png --smart --margin=30
   â†’ scans/LASTNAME_ID.png (with margin)

âœ… python scan.py input.png --scan
   â†’ scans/LASTNAME_ID.png (enhanced quality)


ğŸ“Š ARGUMENT POSITIONS (Important!):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Position 1 (sys.argv[1]): INPUT file (required)
Position 2 (sys.argv[2]): OUTPUT file/dir (required)
Position 3 (sys.argv[3]): MARGIN pixels (optional, default: 20)
Position 4 (sys.argv[4]): MODE (optional, default: crop)
                         Values: crop, smart, scan, preview, tuning
Position 5 (sys.argv[5]): KERNEL size (optional, default: 9)


ğŸ”§ MODE VALUES:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

crop    = Standard crop + perspective correction
smart   = Force OCR smart naming (even for file output)
scan    = Enhanced quality + auto-rotate + smart naming
preview = Show detection overlay only
tuning  = Generate debug samples (for developers)


ğŸ’¡ QUICK TIPS:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â€¢ Want smart naming? Use directory: python smart_crop.py in.png out/
â€¢ Want exact name? Use filename: python smart_crop.py in.png exact.png
â€¢ Current dir shortcut: Use dot: python smart_crop.py in.png .
â€¢ Batch processing: for f in *.png; do python smart_crop.py "$f" scans/; done
â€¢ Need help? Run: python smart_crop.py (without args)


ğŸ› COMMON MISTAKES â†’ SOLUTIONS:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Mistake: amir img crop file.png --smart
Fix:     python smart_crop.py file.png . 20 smart

Mistake: python smart_crop.py file.png
Fix:     python smart_crop.py file.png .

Mistake: python smart_crop.py file.png dir --smart
Fix:     python smart_crop.py file.png dir/ 20 smart

Mistake: Creates --smart.png file
Fix:     You put --smart in OUTPUT position! Use position 4 (mode)


â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•